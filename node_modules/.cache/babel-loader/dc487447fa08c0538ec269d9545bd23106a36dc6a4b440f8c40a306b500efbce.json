{"ast":null,"code":"import { createRouter, createWebHistory } from \"vue-router\";\nimport Home from \"../views/Home.vue\";\nimport { Auth } from \"@/services\";\nconst routes = [{\n  path: \"/\",\n  name: \"home\",\n  component: Home\n}, {\n  path: \"/login\",\n  name: \"login\",\n  component: () => import(\"../views/Login.vue\")\n}, {\n  path: \"/signup\",\n  name: \"signup\",\n  component: () => import(\"../views/Signup.vue\")\n}, {\n  path: \"/add-event\",\n  name: \"add-event\",\n  component: () => import(\"../views/AddEvent.vue\")\n}, {\n  path: \"/edit-event/:id\",\n  name: \"edit-event\",\n  component: () => import(\"../views/EditEvent.vue\")\n}, {\n  path: \"/profile\",\n  name: \"profile\",\n  component: () => import(\"../views/Profile.vue\")\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  const publicPages = [\"/login\", \"/signup\"];\n  // login potreban kada stranica na koju zelis ici nije u javnim stranicama\n  const loginRequired = !publicPages.includes(to.path);\n  const user = Auth.getUser();\n\n  // logika ruta\n  if (loginRequired && !user) {\n    next(\"/login\");\n    return;\n  } else if (user && !loginRequired) {\n    next(\"/\");\n  } else {\n    // ako je sve ok zovemo next\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","Home","Auth","routes","path","name","component","router","history","process","env","BASE_URL","beforeEach","to","from","next","publicPages","loginRequired","includes","user","getUser"],"sources":["C:/Users/imutina/Projects/wannaplay/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from \"vue-router\";\r\n\r\nimport Home from \"../views/Home.vue\";\r\nimport { Auth } from \"@/services\";\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/\",\r\n    name: \"home\",\r\n    component: Home,\r\n  },\r\n  {\r\n    path: \"/login\",\r\n    name: \"login\",\r\n    component: () => import(\"../views/Login.vue\"),\r\n  },\r\n  {\r\n    path: \"/signup\",\r\n    name: \"signup\",\r\n    component: () => import(\"../views/Signup.vue\"),\r\n  },\r\n  {\r\n    path: \"/add-event\",\r\n    name: \"add-event\",\r\n    component: () => import(\"../views/AddEvent.vue\"),\r\n  },\r\n  {\r\n    path: \"/edit-event/:id\",\r\n    name: \"edit-event\",\r\n    component: () => import(\"../views/EditEvent.vue\"),\r\n  },\r\n  {\r\n    path: \"/profile\",\r\n    name: \"profile\",\r\n    component: () => import(\"../views/Profile.vue\"),\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes,\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const publicPages = [\"/login\", \"/signup\"];\r\n  // login potreban kada stranica na koju zelis ici nije u javnim stranicama\r\n  const loginRequired = !publicPages.includes(to.path);\r\n  const user = Auth.getUser();\r\n\r\n  // logika ruta\r\n  if (loginRequired && !user) {\r\n    next(\"/login\");\r\n    return;\r\n  } else if (user && !loginRequired) {\r\n    next(\"/\");\r\n  } else {\r\n    // ako je sve ok zovemo next\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAE3D,OAAOC,IAAI,MAAM,mBAAmB;AACpC,SAASC,IAAI,QAAQ,YAAY;AAEjC,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEL;AACb,CAAC,EACD;EACEG,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,oBAAoB;AAC9C,CAAC,EACD;EACEF,IAAI,EAAE,SAAS;EACfC,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,qBAAqB;AAC/C,CAAC,EACD;EACEF,IAAI,EAAE,YAAY;EAClBC,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,uBAAuB;AACjD,CAAC,EACD;EACEF,IAAI,EAAE,iBAAiB;EACvBC,IAAI,EAAE,YAAY;EAClBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,wBAAwB;AAClD,CAAC,EACD;EACEF,IAAI,EAAE,UAAU;EAChBC,IAAI,EAAE,SAAS;EACfC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,sBAAsB;AAChD,CAAC,CACF;AAED,MAAMC,MAAM,GAAGR,YAAY,CAAC;EAC1BS,OAAO,EAAER,gBAAgB,CAACS,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAC/CR;AACF,CAAC,CAAC;AAEFI,MAAM,CAACK,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,WAAW,GAAG,CAAC,QAAQ,EAAE,SAAS,CAAC;EACzC;EACA,MAAMC,aAAa,GAAG,CAACD,WAAW,CAACE,QAAQ,CAACL,EAAE,CAACT,IAAI,CAAC;EACpD,MAAMe,IAAI,GAAGjB,IAAI,CAACkB,OAAO,CAAC,CAAC;;EAE3B;EACA,IAAIH,aAAa,IAAI,CAACE,IAAI,EAAE;IAC1BJ,IAAI,CAAC,QAAQ,CAAC;IACd;EACF,CAAC,MAAM,IAAII,IAAI,IAAI,CAACF,aAAa,EAAE;IACjCF,IAAI,CAAC,GAAG,CAAC;EACX,CAAC,MAAM;IACL;IACAA,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,eAAeR,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}